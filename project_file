Research Questions:
How valuable was Derek Jeter to the NY Yankees?
How much did Derek Jeter contribute to the wins?

Data Description

RSLT - Result: Win or Loss, tracks whether the baseball game played was a win or a loss for the team

H - hits, tracks how many hits Derek Jeter had in a given game. A hit, also called a base hit, is credited to a batter when the batter safely reaches or passes first base after hitting the ball into fair territory, without the benefit of an error or a fielder's choice

HR - home runs, tracks how many home runs Derek Jeter had in a given game. A home run is scored when the ball is hit in such a way that the batter is able to circle the bases and reach home safely in one play without any errors being committed by the defensive team in the process

SB - stolen base, tracks how many bases Derek Jeter had in a given game. A stolen base occurs when a baserunner advances by taking a base to which he isn't entitled. This generally occurs when a pitcher is throwing a pitch, but it can also occur while the pitcher still has the ball or is attempting a pickoff, or as the catcher is throwing the ball back to the pitcher.

BB - base on balls (walk) tracks how many walks Derek Jeter had in a given game. A base on balls, also known as a walk, occurs in baseball when a batter receives four pitches that the umpire calls balls, and is in turn awarded first base without the possibility of being called out

WPA - win probability added, tracks Derek Jeter’s win probability added in a given game. Win probability added is a sport statistic which attempts to measure a player's contribution to a win by figuring the factor by which each specific play made by that player has altered the outcome of a game.

What are the observations (rows) and the attributes (columns)?
-- Each row represents a single game for the 20 seasons he played baseball. The columns each represent a different record of data, or a calculated statistic as explained above.

Why was this dataset created?
-- This data set was created for the purpose of tracking New York Yankees player, Derek Jeter. He was an outstanding player and these statistics were compiled together after each game, each season to allow MLB fans to look back on the result and statistics of the game, and to look at the individual players success.

What processes might have influenced what data was observed and recorded and what was not?
-- Any data that is considered a significant play is recorded. Whenever a player gets a hit, a homerun, times up to bat, etc. The dataset that we are utilizing is a batting log, so only plays that happen while up to bat or on base are recorded.

What preprocessing was done, and how did the data come to be in the form that you are using?
-- The only preprocessed variable in our usage of the dataset is the WPA, win probability added. This is calculated using the data collected throughout the game. We included this in our dataset to compare how much the variables we choose contributed to the actual win probability added.

If people are involved, were they aware of the data collection and if so, what purpose did they expect the data to be used for?
-- Yes, collecting sports statistics happens at every major league sporting event and even lower levels. The statistics and data are used for many different purposes. The data that is collected and analyzed is used to help increase fan experience and attendance from year to year. Sports analytics are crucial to many teams by helping them become their best through interpretation and analysis of statistics gained in games.

Who funded the creation of the dataset?
-- 

Data Collection and Cleaning

To collect our data, we scraped online databases of baseball statistics in order to pull all of Derek Jeter’s in game statistics on a game by game basis for every game of his career ranging from 1995 to 2014. This data contained all of his batting statistics including variables such as OPS, BA, CS, GDP, SH, SF, HBP, SO, IBB, RE24, cWPA, and other such acronyms relating to baseball measurements. However, not all of these variables are applicable or comparable in regards to the type of inferences we are trying to make. Thus, in our data cleaning process, we first evaluated which of the variables would be appropriate and comparable for our studies. We came up with a final list of variables including home runs, hits, game result, stolen bases, base on balls, and win probability added. These variables are unique in that they are recorded on a game by game basis and do not accumulate, unlike some of the other variables that were included in the stat sheet. Then, with these specific statistics chosen, we cleaned the data by simply excluding the statistics that we did not want, and then combining the statistics that we did want into a single dataframe which is easily processable and neat. Through this process, we cut our dataset from 38 columns over 19 dataframes to a more readable six columns all in one dataframe. 


Data Limitations
Baseball statistics are inherently limited in the scope of what they measure. Thus, our dataset can only provide limited conclusions as well. This dataset could include many other statistics if it were to be complete and provide the best, most accurate conclusions, but due to the difficulty of processing so many variables and the time constraints of this project, we chose only the most important ones. There is the possibility that there is human error in recording the information, and it is possible that the older statistics from 1995 are not as precise as the ones gathered more recently, given new technology in sports statistic reporting and recording. 


import numpy as np
import matplotlib.pyplot as plt
import pandas as pd
import seaborn as sns
from scipy import stats
from   sklearn.linear_model import LinearRegression, LogisticRegression
from   sklearn.model_selection import train_test_split
import statsmodels.formula.api as smf

jeter = pd.read_csv("JeterStats.csv")

walks = np.array(jeter.loc[:,"BB"])
hits = np.array(jeter.loc[:,"H"])
correlation_bb_hits = np.corrcoef(walks,hits)
print(round(correlation_bb_hits[0][1],4))
print("There is a slight negative correlation between the number of walks Derek Jeter had and the number of hits that he had")

sb = np.array(jeter.loc[:,"SB"])
hits = np.array(jeter.loc[:,"H"])
correlation_sb_hits = np.corrcoef(sb,hits)
print(round(correlation_sb_hits[0][1],4))
print("There is a slight positive correlation between the number of stolen bases Derek Jeter had and the number of hits he had")

sb = np.array(jeter.loc[:,"SB"])
hits = np.array(jeter.loc[:,"H"])
correlation_sb_hits = np.corrcoef(sb,hits)
print(round(correlation_sb_hits[0][1],4))
print("There is a slight positive correlation between the number of stolen bases Derek Jeter had and the number of hits he had")

real_slope = 0.1658
real_x = np.array(jeter.loc[:,'SB'])
noise = np.random.normal(0,0.5, size=len(jeter.loc[:,"SB"]))
real_y = real_x * real_slope  +  noise
df = pd.DataFrame({"SB": real_x, "H": real_y})
model = LinearRegression().fit(df[["SB"]], df["H"])
model.coef_

The observed slope is slightly less than the real slope because of the added noise and unpredictability of said noise

sns.regplot(x='SB', y='H', data=df);

plt.scatter(jeter.H, jeter.HR, alpha=0.3)
plt.xlabel('Hits')
plt.ylabel('Homeruns')

contribute = jeter.WPA.mean()
print('Mean WPA: {:.6f}'.format(contribute))

plt.scatter(jeter.H, jeter.BB, alpha=0.5)
plt.xlabel('Hits')
plt.ylabel('Walks')

jeter['win'] = jeter.Rslt.apply(lambda x: 1 if 'W' in x else 0)

jeter.head()

jeter_win_subset = jeter[jeter['win']==1]
jeter_loss_subset = jeter[jeter['win']==0]

h1 = jeter_win_subset["H"].mean()
h2 = jeter_loss_subset["H"].mean()
h3 = jeter["H"].mean()
print("Jeter's Average # of hits in a WIN: {:.4f}".format(h1))
print("Jeter's Average # of hits in a LOSS: {:.4f}".format(h2))
print("Jeter's Average # of hits in any game: {:.4f}".format(h3))

hsd1 = jeter_win_subset["H"].std()
hsd2 = jeter_loss_subset["H"].std()
hsd3 = jeter["H"].std()
print("Jeter's STD of hits in a WIN: {:.4f}".format(hsd1))
print("Jeter's STD of hits in a LOSS: {:.4f}".format(hsd2))
print("Jeter's STD of hits in any game: {:.4f}".format(hsd3))

hr1 = jeter_win_subset["HR"].mean()
hr2 = jeter_loss_subset["HR"].mean()
hr3 = jeter["HR"].mean()
print("Jeter's Average # of home runs in a WIN: {:.4f}".format(hr1))
print("Jeter's Average # of home runs in a LOSS: {:.4f}".format(hr2))
print("Jeter's Average # of home runs in any game: {:.4f}".format(hr3))

hrsd1 = jeter_win_subset["HR"].std()
hrsd2 = jeter_loss_subset["HR"].std()
hrsd3 = jeter["HR"].std()
print("Jeter's STD of home runs in a WIN: {:.4f}".format(hrsd1))
print("Jeter's STD of home runs in a LOSS: {:.4f}".format(hrsd2))
print("Jeter's STD of home runs in any game: {:.4f}".format(hrsd3))

sb1 = jeter_win_subset["SB"].mean()
sb2 = jeter_loss_subset["SB"].mean()
sb3 = jeter["SB"].mean()
print("Jeter's Average # of stolen bases in a WIN: {:.4f}".format(sb1))
print("Jeter's Average # of stolen bases in a LOSS: {:.4f}".format(sb2))
print("Jeter's Average # of stolen bases in any game: {:.4f}".format(sb3))

sbsd1 = jeter_win_subset["SB"].std()
sbsd2 = jeter_loss_subset["SB"].std()
sbsd3 = jeter["SB"].std()
print("Jeter's STD of stolen bases in a WIN: {:.4f}".format(sbsd1))
print("Jeter's STD of stolen bases in a LOSS: {:.4f}".format(sbsd2))
print("Jeter's STD of stolen bases in any game: {:.4f}".format(sbsd3))

bb1 = jeter_win_subset["BB"].mean()
bb2 = jeter_loss_subset["BB"].mean()
bb3 = jeter["BB"].mean()
print("Jeter's Average # of walks in a WIN: {:.4f}".format(bb1))
print("Jeter's Average # of walks in a LOSS: {:.4f}".format(bb2))
print("Jeter's Average # of walks in any game: {:.4f}".format(bb3))

bbsd1 = jeter_win_subset["BB"].std()
bbsd2 = jeter_loss_subset["BB"].std()
bbsd3 = jeter["BB"].std()
print("Jeter's STD of hits in a WIN: {:.4f}".format(bbsd1))
print("Jeter's STD of hits in a LOSS: {:.4f}".format(bbsd2))
print("Jeter's STD of hits in any game: {:.4f}".format(bbsd3))

wpa1 = jeter_win_subset["WPA"].mean()
wpa2 = jeter_loss_subset["WPA"].mean()
wpa3 = jeter["WPA"].mean()
print("Jeter's Average win probability added in a WIN: {:.4f}".format(wpa1))
print("Jeter's Average win probability added in a LOSS: {:.4f}".format(wpa2))
print("Jeter's Average win probability added in any game: {:.4f}".format(wpa3))

wpasd1 = jeter_win_subset["WPA"].std()
wpasd2 = jeter_loss_subset["WPA"].std()
wpasd3 = jeter["WPA"].std()
print("Jeter's STD of win probability added in a WIN: {:.4f}".format(wpasd1))
print("Jeter's STD of win probability added in a LOSS: {:.4f}".format(wpasd2))
print("Jeter's STD of win probability added in any game: {:.4f}".format(wpasd3))

Questions for reviewers:
How can we compare the stats to the wins and losses?
Should we include stats where he hurt the team?
